export PATH=/data/bin:/opt/go/bin:/opt/pyenv/bin:/opt/pyenv/shims:$PATH

export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=2"
export ZSH_AUTOSUGGEST_HIGHLIGHT_STYLE="fg=#696969"
export ZSH_AUTOSUGGEST_BUFFER_MAX_SIZE=256

# virtualenvwrapper
export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python
source /usr/local/bin/virtualenvwrapper.sh

# gvm
export GVM_ROOT=/opt/gvm
[[ -s "/opt/gvm/scripts/gvm" ]] && source "/opt/gvm/scripts/gvm"
gvm use go1.17.6


# pyenv
export PYENV_ROOT=/opt/pyenv
if command -v pyenv 1>/dev/null 2>&1; then
    eval "$(pyenv init -)"
    pyenv virtualenvwrapper
fi

# direnv
show_virtual_env() {
    if [ -n "$VIRTUAL_ENV" ]; then
        env_name="($(basename $VIRTUAL_ENV))"
        if [[ $PS1 != *$env_name* ]];then
            echo $env_name
        fi
    fi
}

eval "$(direnv hook zsh)"

if [[ $PS1 != *"show_virtual_env"* ]];then
    PS1='$(show_virtual_env)'$PS1
fi
